<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="DIH - AlexProsD e MattMirandola" />
    <title>UniStats</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="static/assets/favicon.ico" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="static/css/styles.css" rel="stylesheet" />
    <link href="static/css/iframeSyles.css" rel="stylesheet" />
    <script src="static/js/scripts.js"></script>
    <style>
      @media only screen and (orientation: portrait) {
        #alert {
          display: flex;
        }
        #wrapper {
          display: none;
        }
      }
      @media only screen and (orientation: landscape) {
        #alert {
          display: none;
        }
        #wrapper {
          display: flex;
        }
      }
    </style>
  </head>

  <body id="body" class="sb-sidenav-toggled">
    <!-- Avvertimento schermo verticale-->
    <div id="alert">
      <table style="width: 100%;">
        <tr>
          <td style="text-align: center;">
            La Webapp richiede uno schermo orizzontale per funzionare
            correttamente.
          </td>
        </tr>
        <tr>
          <td>
            <div
              style="
                margin-top: 5%;
                margin-left: auto;
                margin-right: auto;
                width: 50%;
                --aspect-ratio: 1;
              "
            >
              <img
                src="static/assets/errorRes.svg"
                width="100%"
                height="100%"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td style="text-align: center;">
            <div style="margin-top: 5%;">
              Si prega di ruotare lo schermo (se possibile) o cambiare
              dispositivo
            </div>
          </td>
        </tr>
        <tr>
          <td style="text-align: center;">
            <button
              class="btn btn-primary"
              style="margin-top: 3%;"
              onclick="override()"
            >
              Visualizza comunque
            </button>
          </td>
        </tr>
      </table>
    </div>

    <!-- Sito Web-->
    <div id="wrapper">
      <!-- Sidebar-->
      <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading border-bottom bg-light">DIH - UniStats</div>
        <div class="list-group list-group-flush">
          <a
            class="list-group-item list-group-item-action list-group-item-light p-3"
            onclick="changePage('1st')"
            >Introduzione</a
          >
          <a
            class="list-group-item list-group-item-action list-group-item-light p-3"
            onclick="changePage('2nd')"
            >Disparità dei Sessi nello Studio</a
          >
          <a
            class="list-group-item list-group-item-action list-group-item-light p-3"
            onclick="changePage('3rd')"
            >Studenti Universitari e Paghe Orarie</a
          >
          <a
            class="list-group-item list-group-item-action list-group-item-light p-3"
            onclick="changePage('4th')"
            >Studenti fuori sede</a
          >
          <a
            class="list-group-item list-group-item-action list-group-item-light p-3"
            onclick="changePage('5th')"
            >Copyright</a
          >
        </div>
      </div>
      <!-- Page content wrapper-->
      <div id="page-content-wrapper">
        <!-- Top navigation-->
        <nav
          class="navbar navbar-expand-lg navbar-light bg-light border-bottom"
        >
          <div class="container-fluid">
            <button class="btn btn-primary" id="sidebarToggle">
              <img src="static/assets/menu.svg" />
            </button>
          </div>
        </nav>
        <!-- Page content-->
        <!-- Pagina Principale-->
        <div class="container-fluid" id="1st">
          <h1 class="mt-4">
            UniStats: Analisi degli Open Data riguardanti il mondo universitario
          </h1>
          <table style="width: 100%;">
            <tr>
              <td style="width: 45%;" valign="top">
                <label for="sex">Scegliere il sesso degli iscritti:</label>
                <select
                  name="sex"
                  id="sex"
                  onchange="changeIscrittiAteneoGraph()"
                >
                  <option value="0">Entrambi i sessi</option>
                  <option value="1">Maschi</option>
                  <option value="2">Femmine</option>
                </select>
                <div
                  id="link1"
                  class="iframe-container"
                  style="--aspect-ratio: 2.03/1.1;"
                >
                  <iframe id="atn"
                    >Il tuo browser non supporta gli iframe</iframe
                  >
                  <script>
                    document.getElementById("atn").src =
                      window.location.href + "getGraph?graph=iscrittiAtn";
                  </script>
                </div>
              </td>
              <td valign="top">
                <p style="margin-top: 9%;">
                  Ogni anno, in Veneto, 112 mila studenti circa si iscrivono ad
                  una delle quattro maggiori università della regione:
                  l'Università di Padova, di Verona, l'Università Ca Foscari di
                  Venezia e l'Università delle Belle Arti di Venezia.
                </p>
                <p>
                  Questo fenomeno, però, non influenza tutti i giovani
                  equalmente. Ci sono vari fattori che influenzano se e dove un
                  aspirante laureando si iscriverà ad un'Università.
                </p>
                <p>
                  L'obbiettivo di questa Webapp è quello di usare dati
                  <b>aggiornati</b> per analizzare al meglio il comportamento
                  degli studenti in Veneto.
                </p>
                <p>
                  Il grafico qui a sinistra rappresenta i dati di iscrizione
                  agli atenei del Veneto per ogni anno fino dal 2010 (dati
                  aggiornati ogni anno), dimostrando che il fenomeno è
                  abbastanza costante ogni anno, anche se sembrerebbe essere in
                  cresita.
                </p>
              </td>
            </tr>
          </table>
        </div>

        <!-- Seconda Pagina-->
        <div
          class="container-fluid"
          style="display: none; overflow-y: auto;"
          id="2nd"
        >
          <h1 class="mt-4">
            Disparità dei sessi nello studio: come mai?
          </h1>
          <table style="width: 100%;">
            <tr>
              <td style="width: 40%;">
                <label for="year">Scegliere l'anno di iscrizione:</label>
                <select name="year" id="year" onchange="changeSexGraph()">
                  <option value="0">2020/2021</option>
                  <option value="1">2019/2020</option>
                  <option value="2">2018/2019</option>
                  <option value="3">2017/2018</option>
                  <option value="4">2016/2017</option>
                  <option value="5">2015/2016</option>
                  <option value="6">2014/2015</option>
                  <option value="7">2013/2014</option>
                  <option value="8">2012/2013</option>
                  <option value="9">2011/2012</option>
                  <option value="10">2010/2011</option>
                </select>
                <table style="width: 100%;">
                  <tr>
                    <td style="width: 50%;">
                      <div
                        id="link1"
                        class="iframe-container"
                        style="--aspect-ratio: 1;"
                      >
                        <iframe id="sex0"
                          >Il tuo browser non supporta gli iframe</iframe
                        >
                        <script>
                          document.getElementById("sex0").src =
                            window.location.href +
                            "getGraph?graph=mf&atn=Padova";
                        </script>
                      </div>
                    </td>
                    <td style="width: 50%;">
                      <div
                        id="link1"
                        class="iframe-container"
                        style="--aspect-ratio: 1;"
                      >
                        <iframe id="sex1"
                          >Il tuo browser non supporta gli iframe</iframe
                        >
                        <script>
                          document.getElementById("sex1").src =
                            window.location.href +
                            "getGraph?graph=mf&atn=Verona";
                        </script>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 50%;">
                      <div
                        id="link1"
                        class="iframe-container"
                        style="--aspect-ratio: 1;"
                      >
                        <iframe id="sex2"
                          >Il tuo browser non supporta gli iframe</iframe
                        >
                        <script>
                          document.getElementById("sex2").src =
                            window.location.href +
                            "getGraph?graph=mf&atn=VeneziaCF";
                        </script>
                      </div>
                    </td>
                    <td style="width: 50%;">
                      <div
                        id="link1"
                        class="iframe-container"
                        style="--aspect-ratio: 1;"
                      >
                        <iframe id="sex3"
                          >Il tuo browser non supporta gli iframe</iframe
                        >
                        <script>
                          document.getElementById("sex3").src =
                            window.location.href +
                            "getGraph?graph=mf&atn=VeneziaIUAV";
                        </script>
                      </div>
                    </td>
                  </tr>
                </table>
              </td>
              <td valign="top">
                <p style="margin-top: 5%;">
                  I grafici qui a sinistra rappresentano in forma sintetica la
                  suddivisione della popolazione studentesca dei quattro atenei
                  in Veneto: l'Università degli studi di Padova, l'Università
                  degli studi di Verona, l'Università Ca' Foscari di Venezia e
                  l'Università IUAV di Venezia. I dati, che sono stati
                  registrati e salvati dal 2010 fino ad oggi, mostrano che in
                  tutte e quattro le università c'è una percentuale maggiore di
                  ragazze iscritte ai corsi. Sfortunatamente, i dati non fanno
                  distinzione tra le facoltà e aggregano tutte le iscrizioni
                  insieme, ma nonostante ciò questa maggioranza, che nel caso
                  dell'Università di Verona e la Ca' Foscari di Venezia
                  raggiungono il 64% di popolazione femminile, è un dato molto
                  interessante che sicuramente ha più di una motivazione
                </p>
              </td>
            </tr>
          </table>
          <table style="width: 100%; margin-top: 4%;">
            <tr>
              <td valign="top" style="width: 50%;">
                <p style="margin-top: 5%;">
                  Una delle motivazioni maggiori che potrebbero influenzare
                  questo dato, però, è un dato tanto triste quanto reale: la
                  disoccupazione tra gli adolescenti (15-24 anni). In generale, per tutte le provincie, tra i giovani chi ha più
                  difficoltà a trovare lavoro sono le ragazze, con percentuali che vanno da un minimo del 13% a Vicenza nel 2019 a un
                  massimo del 45% a Padova nel 2020. Nonostante i dati non distinguano il titolo di studio di questi giovani, è
                  abbastanza intuitivo che le ragazze siano più spinte a intraprendere un percorso di studio universitario, nella
                  speranza di aumentare le proprie possibilità di trovare un lavoro.
                </p>
              </td>
              <td>
                <div
                  id="link1"
                  class="iframe-container"
                  style="--aspect-ratio: 2.03/1.1;"
                >
                  <iframe id="disoccupati"
                    >Il tuo browser non supporta gli iframe</iframe
                  >
                  <script>
                    document.getElementById("disoccupati").src =
                      window.location.href + "getGraph?graph=disoccupati";
                  </script>
                </div>
              </td>
            </tr>
          </table>
        </div>

        <!-- Terza Pagina-->
        <div class="container-fluid" style="display: none;" id="3rd">
          <h1 class="mt-4">
            UniStats: Analisi degli Open Data riguardanti il mondo universitario
          </h1>
          <table style="width: 100%;">
            <tr>
              <td style="width: 45%;" valign="top">
                <div
                  id="link1"
                  class="iframe-container"
                  style="--aspect-ratio: 2.03/1.1;"
                >
                  <iframe id="prov"
                    >Il tuo browser non supporta gli iframe</iframe
                  >
                  <script>
                    document.getElementById("prov").src =
                      window.location.href + "getGraph?graph=iscrittiProv";
                  </script>
                </div>
              </td>
              <td valign="top">

              </td>
            </tr>
          </table>
        </table>
        <table style="width: 100%; margin-top: 4%;">
          <tr>
            <td valign="top" style="width: 50%;">
              <p style="margin-top: 5%;">
                Una delle motivazioni maggiori che potrebbero influenzare
                questo dato, però, è un dato tanto triste quanto reale: la
                disoccupazione tra gli adolescenti (15-24 anni). In generale, per tutte le provincie, tra i giovani chi ha più
                difficoltà a trovare lavoro sono le ragazze, con percentuali che vanno da un minimo del 13% a Vicenza nel 2019 a un
                massimo del 45% a Padova nel 2020. Nonostante i dati non distinguano il titolo di studio di questi giovani, è
                abbastanza intuitivo che le ragazze siano più spinte a intraprendere un percorso di studio universitario, nella
                speranza di aumentare le proprie possibilità di trovare un lavoro.
              </p>
            </td>
            <td>
              <div
                id="link1"
                class="iframe-container"
                style="--aspect-ratio: 2.03/1.1;"
              >
                <iframe id="disoccupati2"
                  >Il tuo browser non supporta gli iframe</iframe
                >
                <script>
                  document.getElementById("disoccupati2").src =
                    window.location.href + "getGraph?graph=disoccupati";
                </script>
              </div>
            </td>
          </tr>
        </table>
        </div>

        <!-- Quarta Pagina-->
        <div class="container-fluid" style="display: none;" id="4th">
          <h1 class="mt-4">Studenti fuori sede</h1>
          <table>
            <tr>
              <td style="width: 50%;">
                <label for="regione"
                  >Scegliere la regione di provenienza degli studenti:</label
                >
                <select
                  name="regione"
                  id="regione"
                  onchange="changeEmigGraph()"
                >
                  <option value="Venezia">Venezia</option>
                  <option value="Vicenza">Vicenza</option>
                  <option value="Verona">Verona</option>
                  <option value="Padova">Padova</option>
                  <option value="Treviso">Treviso</option>
                  <option value="Belluno">Belluno</option>
                  <option value="Rovigo">Rovigo</option>
                </select>
                <div
                  id="link-1"
                  class="iframe-container"
                  style="--aspect-ratio: 1;"
                >
                  <iframe id="reg"
                    >Il tuo browser non supporta gli iframe</iframe
                  >
                  <script>
                    document.getElementById("reg").src =
                      window.location.href + "getGraph?graph=emig&prov=Venezia";
                  </script>
                </div>
              </td>
              <td></td>
            </tr>
          </table>
        </div>

        <div class="container-fluid" style="display: none;" id="5th">
          <h1 class="mt-4">Copyright e Attribuzione</h1>
          <ul>
            <li>
              I dati riguardanti gli iscritti agli atenei italiani dal 2010 al
              2020 sono forniti dal Ministero dell'Istruzione, dell'Università e
              della Ricerca (MIUR) sotto licenza IODL v2
            </li>
            <ul>
              <li>
                Link ai dati:
                <a
                  href="http://dati.ustat.miur.it/dataset/iscritti/resource/32d26e28-a0b5-45f3-9152-6072164f3e63"
                  >qui</a
                >
              </li>
              <li>
                Link alla licenza:
                <a
                  href="https://www.dati.gov.it/content/italian-open-data-license-v20"
                  >qui</a
                >
              </li>
            </ul>
            <li>
              I dati riguardanti gli iscritti per provincia, rielaborati per
              determinare gli iscritti fuori sede, sono forniti dal Ministero
              dell'Istruzione, dell'Università e della Ricerca (MIUR) sotto
              licenza IODL V2
            </li>
            <ul>
              <li>
                Link ai dati:
                <a
                  href="http://dati.ustat.miur.it/dataset/iscritti/resource/eae4ee94-0797-41d2-b007-bc6dad3ef3e2"
                  >qui</a
                >
              </li>
              <li>
                Link alla licenza:
                <a
                  href="https://www.dati.gov.it/content/italian-open-data-license-v20"
                  >qui</a
                >
              </li>
            </ul>
            <li>
              I dati riguardanti la retribuzione oraria media per provincia e
              livello di istruzione sono forniti dal Istituto Nazionale di
              Statistica (ISTAT) sotto licenza Creative Commons 3.0 - BY
            </li>
            <ul>
              <li>
                Link al portale dati (dato: Retribuzione e tipo di diploma):
                <a href="http://dati.istat.it/">qui</a>
              </li>
              <li>
                Link alla licenza:
                <a
                  href="https://creativecommons.org/licenses/by/3.0/it/legalcode"
                  >qui</a
                >
              </li>
            </ul>
            <li>
              I dati riguardanti il tasso di disoccupazione provinciale sono
              forniti dal Istituto Nazionale di Statistica (ISTAT) sotto licenza
              Creative Commons 3.0 - BY
            </li>
            <ul>
              <li>
                Link al portale dati (dato: Disoccupazione - Dati Provinciali):
                <a href="http://dati.istat.it/">qui</a>
              </li>
              <li>
                Link alla licenza:
                <a
                  href="https://creativecommons.org/licenses/by/3.0/it/legalcode"
                  >qui</a
                >
              </li>
            </ul>
            <li>
              La Webapp è basata sul framework per webapp Flask, distribuito
              sotto licenza BSD-3-Clause License
            </li>
            <ul>
              <li>
                Link al sito del progetto:
                <a href="https://palletsprojects.com/p/flask/">qui</a>
              </li>
              <li>
                Link alla licenza:
                <a href="https://opensource.org/licenses/BSD-3-Clause">qui</a>
              </li>
            </ul>
          </ul>
        </div>
      </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script>
      //Funzione responsabile di cambiare il div visualizzato e di chiudere automaticamente il menu di navigazione
      //per consentire una visualizazione migliore del contenuto
      function changePage(pagename) {
        const pages = ["1st", "2nd", "3rd", "4th", "5th"];
        for (var i = 0; i < pages.length; i++) {
          console.log(pages[i]);
          if (pages[i] != pagename) {
            document.getElementById(pages[i]).style.display = "none";
          } else {
            document.getElementById(pages[i]).style.display = "block";
          }
        }
        if (
          !document
            .getElementById("body")
            .classList.contains("sb-sidenav-toggled")
        ) {
          document.getElementById("body").classList.add("sb-sidenav-toggled");
        }
      }

      //Funzione di override dell'avvertiemento per schermi verticali
      function override() {
        document.getElementById("alert").style.display = "none";
        document.getElementById("wrapper").style.display = "flex";
        console.log(document.getElementById("wrapper").style);
      }

      //Funzioni di alterazione del grafico//

      //Switch per IscrittiAteneo tra: Solo Maschi, solo Femmine, Entrambi
      function changeIscrittiAteneoGraph() {
        var select = document.getElementById("sex");
        var sesso = select.selectedIndex;
        document.getElementById("atn").src =
          window.location.href +
          "getGraph?graph=iscrittiAtn&sex=" +
          sesso.toString();
        console.log(document.getElementById("atn").src);
      }

      //Switch per mfAteneo tra: gli anni dal 2020/2019 a 2010/2011
      function changeSexGraph() {
        const atn = ["Padova", "Verona", "VeneziaCF", "VeneziaIUAV"];
        var select = document.getElementById("year");
        var anno = select.selectedIndex;
        for (var i = 0; i < 4; i++) {
          document.getElementById("sex" + i.toString()).src =
            window.location.href +
            "getGraph?graph=mf&atn=" +
            atn[i] +
            "&year=" +
            anno;
        }
      }

      //Switch per iscritti emigProvincia tra: le provincie del veneto
      function changeEmigGraph() {
        var select = document.getElementById("regione");
        var regione = select.options[select.selectedIndex].text;
        document.getElementById("reg").src =
          window.location.href + "getGraph?graph=emig&prov=" + regione;
      }
    </script>
  </body>
</html>
